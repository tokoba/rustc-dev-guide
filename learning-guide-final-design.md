# rustc-dev-guide 学習ガイド 最終設計案

## 設計概要

本設計案は、rustc-dev-guideプロジェクトに体系的な学習ガイドを統合し、学習者のレベルや目的に応じたナビゲーションを提供することを目的とします。shimaiによるレビュー結果を反映し、実現可能性と長期的なメンテナンス性を重視した最終案を提示します。

## 設計の基本原則

1. **既存構造の尊重**: 現在のmdBook構造を破壊せず、学習ガイドを新しいセクションとして追加
2. **重複の最小化**: 学習ガイドはナビゲーションと学習経路に特化し、技術詳細は既存ドキュメントへの参照で提供
3. **段階的導入**: 実装リスクを最小化するため、3つのフェーズに分けて導入
4. **アクセシビリティ配慮**: すべての機能が代替手段で利用可能な設計

## 最終ディレクトリ構造

```
src/
├── learning-guide/                    # 学習ガイドのルートディレクトリ
│   ├── README.md                     # 学習ガイドの概要とナビゲーション
│   ├── getting-started/               # 初級者向け学習パス
│   │   ├── README.md                 # 初級者学習パスの概要
│   │   ├── compiler-basics.md        # コンパイラの基本概念（要点のみ）
│   │   ├── first-contribution.md     # 最初の貢献
│   │   └── build-and-debug.md        # ビルドとデバッグの基礎
│   ├── intermediate/                 # 中級者向け学習パス
│   │   ├── README.md                 # 中級者学習パスの概要
│   │   ├── compiler-architecture.md  # コンパイラアーキテクチャ（要点のみ）
│   │   ├── source-representation.md  # ソースコード表現（要点のみ）
│   │   └── type-system.md           # 型システム（要点のみ）
│   ├── advanced/                     # 上級者向け学習パス
│   │   ├── README.md                 # 上級者学習パスの概要
│   │   ├── query-system.md          # クエリシステム（要点のみ）
│   │   ├── optimization.md           # 最適化（要点のみ）
│   │   └── code-generation.md        # コード生成（要点のみ）
│   ├── specialization/                # 特定目的別学習パス
│   │   ├── README.md                 # 特化学習パスの概要
│   │   ├── diagnostics.md            # 診断システム
│   │   ├── testing.md                # テストインフラ
│   │   └── performance.md            # パフォーマンス最適化
│   └── resources/                    # 学習リソース
│       ├── README.md                 # リソースの概要
│       ├── exercises.md              # 演習問題
│       ├── projects.md               # 実践プロジェクト
│       └── references.md             # 参考資料
└── SUMMARY.md                        # 既存の目次（学習ガイドセクションを追加）
```

## 学習パスの設計

### 1. 初級者向け学習パス

**対象者**: Rustコンパイラ開発初心者  
**学習目標**: 基本概念の理解と簡単な貢献ができるようになる  
**学習アプローチ**: 要点の理解と実践的な貢献活動の重視

**特徴**:

- 理論説明は最小限にし、既存ドキュメントへの参照を積極的に活用
- 実践的な貢献活動（簡単なバグ修正、ドキュメント改善）を重視
- 成功体験を積み上げるための小さな目標設定

### 2. 中級者向け学習パス

**対象者**: 基本的な貢献経験がある開発者  
**学習目標**: 特定コンポーネントの詳細な理解と複雑な貢献ができるようになる  
**学習アプローチ**: モジュール式学習と横断的理解の促進

**特徴**:

- 各モジュールが独立して学習可能な構造
- 関連トピック間の移動を容易にするナビゲーション
- 理論と実践のバランス重視

### 3. 上級者向け学習パス

**対象者**: 詳細なコンパイラ知識を持つ開発者  
**学習目標**: コンパイラの内部メカニズムの完全な理解と新機能の設計・実装  
**学習アプローチ**: 深い専門知識の習得と研究・開発活動への移行

**特徴**:

- 高度なトピックの集中的な学習
- コミュニティとの連携を促進する設計
- 新機能開発やパフォーマンス改善への実践的なアプローチ

### 4. 特定目的別学習パス

**対象者**: 特定の分野に特化したい開発者  
**学習目標**: 特定分野の専門知識習得と集中した貢献活動  
**学習アプローチ**: 目的別の集中学習と実践プロジェクトへの直接接続

## ナビゲーション設計

### 1. 階層的ナビゲーション

学習パス内での論理的な進行を示す構造：

```markdown
<!-- 各ページの先頭 -->
[学習ガイドTOP](../../README.md) > [初級者向け学習パス](../README.md) > [コンパイラの基本概念](./compiler-basics.md)

<!-- 各ページの末尾 -->
<div class="navigation">
  <div class="prev">
    ← [学習パスの概要](../README.md)
  </div>
  <div class="progress">
    進捗: ●●○ (2/3)
  </div>
  <div class="next">
    [最初の貢献](./first-contribution.md) →
  </div>
</div>
```

### 2. 相互参照ナビゲーション

関連トピックへの移動を支援する構造：

```markdown
## 関連トピック
- [詳細: コンパイラの概要](../../overview.md)
- [実践: 演習問題](../../resources/exercises.md#beginner)
- [コミュニティ: t-compiler/help](https://rust-lang.zulipchat.com/#narrow/stream/182449-t-compiler.2Fhelp)
```

### 3. 進捗管理

学習の進捗を視覚的に示す要素：

```markdown
<div class="progress-indicator">
  <div class="progress-bar">
    <div class="progress-fill" style="width: 33%;"></div>
  </div>
  <span class="progress-text">学習パス進捗: 1/3 (33%)</span>
</div>
```

## 既存SUMMARY.mdへの統合

### 追加位置

「このガイドについて」セクションの直後に学習ガイドセクションを追加：

```markdown
# 目次

[はじめに](./getting-started.md)

[このガイドについて](./about-this-guide.md)

---

# 学習ガイド

- [学習ガイドの概要](./learning-guide/README.md)
  - [学習パスの選択ガイド](./learning-guide/README.md#学習パスの選択)
  
- [初級者向け学習パス](./learning-guide/getting-started/README.md)
  - [コンパイラの基本概念](./learning-guide/getting-started/compiler-basics.md)
  - [最初の貢献](./learning-guide/getting-started/first-contribution.md)
  - [ビルドとデバッグの基礎](./learning-guide/getting-started/build-and-debug.md)
  
- [中級者向け学習パス](./learning-guide/intermediate/README.md)
  - [コンパイラアーキテクチャ](./learning-guide/intermediate/compiler-architecture.md)
  - [ソースコード表現](./learning-guide/intermediate/source-representation.md)
  - [型システム](./learning-guide/intermediate/type-system.md)
  
- [上級者向け学習パス](./learning-guide/advanced/README.md)
  - [クエリシステム](./learning-guide/advanced/query-system.md)
  - [最適化](./learning-guide/advanced/optimization.md)
  - [コード生成](./learning-guide/advanced/code-generation.md)
  
- [特定目的別学習パス](./learning-guide/specialization/README.md)
  - [診断システム](./learning-guide/specialization/diagnostics.md)
  - [テストインフラ](./learning-guide/specialization/testing.md)
  - [パフォーマンス](./learning-guide/specialization/performance.md)
  
- [学習リソース](./learning-guide/resources/README.md)
  - [演習問題](./learning-guide/resources/exercises.md)
  - [実践プロジェクト](./learning-guide/resources/projects.md)
  - [参考資料](./learning-guide/resources/references.md)

---
```

## 実装計画

### フェーズ1: 基本的な学習ガイド（安全な導入）

**目標**: 最小限の機能で学習ガイドの基本構造を導入

**実装内容**:

1. ディレクトリ構造の作成
2. 各学習パスのREADME.mdの作成
3. 基本的なナビゲーションの実装
4. 相対パスの修正（最重要）
5. アンカーの安定化

**注意点**:

- 追加CSS/JSは使用しない
- Mermaidは使用しない
- 既存ドキュメントとの相互参照に限定

### フェーズ2: 詳細なコンテンツの追加

**目標**: 各学習パスの詳細なコンテンツを実装

**実装内容**:

1. 各学習パスの詳細なコンテンツの作成
2. 演習問題と実践プロジェクトの基本構成
3. 進捗インジケーターのHTML/CSS実装（オプション）
4. 既存ドキュメントとの相互参照の強化

**注意点**:

- JavaScript機能は慎重に導入
- アクセシビリティ配慮の実装
- リンク切れチェックの導入

### フェーズ3: 高度な機能の実装

**目標**: インタラクティブな機能とコミュニティ連携

**実装内容**:

1. 進捗管理のJavaScript機能
2. 学習経路のカスタマイズ機能
3. Mermaid図の導入（フォールバック付き）
4. コミュニティとの連携機能

**注意点**:

- インフラ側の制約確認
- セキュリティとプライバシーの配慮
- パフォーマンスへの影響評価

## 技術的な制約への対応

### 1. 相対パスの問題

**問題**: learning-guide配下から既存ドキュメントへのリンクが正しく機能しない  
**解決策**: すべての相対パスを `../../` を起点に修正

### 2. アンカーの安定性

**問題**: 日本語見出しの自動生成アンカーが不安定  
**解決策**: 明示的なIDを付与して安定したリンクを確保

### 3. Mermaidの使用制約

**問題**: mdBookでMermaidを使用するにはプラグインが必要  
**解決策**: フォールバックとしてテキスト版の代替を用意

### 4. 追加JS/CSSの制約

**問題**: rust-langの配信インフラやセキュリティ方針による制約  
**解決策**: 段階的導入と無効化時のデグレなし設計

## メンテナンス計画

### 1. コンテンツの同期

- 学習ガイドと既存ドキュメントの内容の整合性維持
- 既存ドキュメントの更新に合わせた学習ガイドの更新
- 重複コンテンツの最小化ポリシーの徹底

### 2. 品質保証

- CIによるリンクチェックの導入
- 定期的なコンテンツレビュー
- ユーザーフィードバックの収集と反映

### 3. コミュニティとの連携

- Zulipでの学習ガイド専用スレッドの設置
- GitHub Issuesでのフィードバック受付
- 定期的な改善サイクルの確立

## 成功の評価基準

### 1. 利用状況の指標

- 学習ガイドの訪問数と滞在時間
- 各学習パスの完了率
- 学習ガイドから既存ドキュメントへの移行率

### 2. 学習効果の指標

- 新規貢献者の増加
- 貢献の質の向上
- 学習ガイド経由での貢献数

### 3. 満足度の指標

- フィードバックと評価
- 学習効果の自己評価
- コミュニティでの言及

## リスク管理

### 1. 技術的リスク

- **リンク切れ**: CIによる自動チェックで対策
- **プラグイン制約**: フォールバック設計で対応
- **パフォーマンス**: 段階的導入で影響を最小化

### 2. コンテンツリスク

- **内容の陳腐化**: 定期的なレビュープロセスで対応
- **重複コンテンツ**: 最小化ポリシーの徹底
- **翻訳・多言語**: 将来的な拡張計画の策定

### 3. 運用リスク

- **メンテナンス負担**: 役割分担と自動化で対応
- **コミュニティの受け入れ**: 段階的導入とフィードバック反映

## 結論

本設計案は、rustc-dev-guideプロジェクトに実用的な学習ガイドを統合するための包括的なアプローチを提供します。以下の点が特に重要です：

1. **段階的導入**: 実装リスクを最小化し、確実な導入を可能にする
2. **重複の最小化**: 学習ガイドはナビゲーションに特化し、技術詳細は既存ドキュメントへ参照
3. **アクセシビリティ配慮**: すべての機能が代替手段で利用可能な設計
4. **長期的なメンテナンス性**: コンテンツ同期と品質保証の仕組み化

この設計案により、rustcコンパイラ開発に興味のある学習者が体系的に知識を習得し、実際の貢献活動にスムーズに移行できるようになります。
