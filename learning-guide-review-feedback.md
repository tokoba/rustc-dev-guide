# shimaiによる学習ガイド設計レビュー結果

## レビュー総評

### ✅ 評価された強み

- **複数の学習パス**（初級・中級・上級・特化）は、rustc-dev-guideの「リファレンス中心」な性格を補完し、学習者導線を明確化する良い設計
- **段階的学習構造**、**相互参照戦略**、**mdBook統合方針**が、既存ドキュメントを再利用しつつ、重複を避ける方向で設計されている点は適切
- **ナビゲーション設計**（垂直/水平/深さ/実践リンク）と、学習者の進捗可視化の提案は、学習体験の向上に資するもの

### ⚠️ 主要な懸念点

- **相対リンクのパス誤り**: 既存コンテンツへの参照が切れる恐れ
- **Mermaidや追加JS/CSSの制約**: rust-langの配信インフラやmdBook設定によっては制約があり得る
- **コンテンツの重複と所要時間の明記**: 長期的な整合性維持と期待値調整の面で課題

## 重要な修正項目

### 1. 相対パスの修正（最重要）

現在の設計では、learning-guide配下のファイルから既存ドキュメントへのリンクが正しく機能しない問題があります。

**修正例**:

```diff
# learning-guide/getting-started/compiler-basics.md
- [コンパイラの概要](../overview.md)
- [高レベルコンパイラアーキテクチャ](../part-2-intro.md)
+ [コンパイラの概要](../../overview.md)
+ [高レベルコンパイラアーキテクチャ](../../part-2-intro.md)

# learning-guide/getting-started/first-contribution.md
- [貢献手順](../contributing.md)
- [ウォークスルー：典型的な貢献](../walkthrough.md)
- [Gitの使用](../git.md)
+ [貢献手順](../../contributing.md)
+ [ウォークスルー：典型的な貢献](../../walkthrough.md)
+ [Gitの使用](../../git.md)
```

**ルール**: learning-guide直下以外のファイルからルートへの参照は `../../` を起点とする

### 2. アンカーの安定化

日本語見出しの自動生成アンカーは不安定なため、明示的なIDを付与する必要があります。

**修正例**:

```markdown
## 初級者演習 {#beginner}
## 中級者演習 {#intermediate}
## 上級者演習 {#advanced}
```

### 3. Mermaidのフォールバック対応

Mermaidが使用できない環境でも内容が伝わるように、テキスト版の代替を用意する必要があります。

**修正例**:

```markdown
<!-- Mermaid図の後に追加 -->
学習フロー（Mermaidが無効な場合の概要）:
1. 学習ガイドTOP
2. 初級者学習パス
3. コンパイラの基本概念
4. 最初の貢献
5. ビルドとデバッグの基礎
6. 学習完了
```

## 学習効果の改善提案

### 1. 所要時間の扱いの見直し

「10-15時間」などの所要時間は学習者背景に依存しすぎるため、以下のように改善：

```markdown
所要時間の目安は学習者の背景や環境により大きく変動します。ここで示す値はあくまで参考であり、実際の進度は自己評価用チェックリストを基準に判断してください。
```

または、時間表記をやめ、**到達目標（アウトカム）** と **チェックリスト** に置換。

### 2. 認知負荷の管理

初級パスの「コンパイラ主要フェーズ」「IR群」の説明は既存の`overview.md`で詳述済み。ここでは簡潔化し、詳細は既存章へ誘導する構成にすることで負担軽減。

### 3. 実践的な導線の強化

既存の「good first issue」「E-mentor」などへのリンクと、Zulipの`t-compiler/help`への明確な導線を追加：

```markdown
- Good first issues: https://github.com/rust-lang/rust/labels/E-easy
- t-compiler/help: https://rust-lang.zulipchat.com/#narrow/stream/182449-t-compiler.2Fhelp
```

## 実装計画の調整

### フェーズ1: 基本的な学習ガイド（安全な導入）

- 相対パスの修正
- アンカーの安定化
- README.mdのみの作成
- 最小限のナビゲーション

### フェーズ2: 詳細なコンテンツの追加

- 各学習パスの詳細コンテンツ
- 基本的な相互参照
- 演習とプロジェクトの基本構成

### フェーズ3: 高度な機能（段階的導入）

- Mermaid図（フォールバック付き）
- 追加CSS/JS（アクセシビリティ対応）
- 進捗管理機能
- インタラクティブなナビゲーション

## メンテナンス性の向上

### 1. CIによるリンクチェック

```toml
[preprocessor.linkcheck]
follow-web-links = false
traverse-parent-directories = false
```

### 2. 役割分担の明確化

- 各学習パスに「モジュールオーナー」を設定
- 関連する既存章の更新監視も担当

### 3. 更新ポリシーの策定

- 既存章で用語や構成変更があった場合、「学習ガイド側はリンクと導入テキストのみ更新」
- 詳細は基本的に再記述しない

## 技術的な制約への対応

### 1. mdBookプラグインの使用

- `mdbook-mermaid` の導入にはインフラ側の許可が必要
- 事前調整とフォールバック設計が必須

### 2. セキュリティとプライバシー

- ローカルストレージ使用のポリシー確認
- 追加JS/CSSのセキュリティレビュー

### 3. アクセシビリティ

- WCAG準拠のチェックリスト適用
- キーボード操作、コントラスト、ARIA属性の配慮

## 結論

設計案全体の方向性は適切ですが、以下の点を優先的に対応する必要があります：

1. **相対パスの修正**（最重要）
2. **重複最小化**（既存章参照の徹底）
3. **段階的導入**（フェーズ分けの厳守）
4. **アンカー安定化**と**フォールバック対応**

これらの対応により、学習効果と長期保守性の双方が向上し、実用的な学習ガイドとなります。
