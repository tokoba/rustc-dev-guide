# 前提条件

## 依存関係

[`rust-lang/rust` INSTALL](https://github.com/rust-lang/rust/blob/HEAD/INSTALL.md#dependencies) をご覧ください。

## ハードウェア

ビルドにはインターネット接続が必要です。ブートストラッププロセスには、git サブモジュールの更新とベータコンパイラのダウンロードが含まれます。超高速である必要はありませんが、それが役立つ場合があります。

厳格なハードウェア要件はありませんが、コンパイラのビルドは計算量が多いため、より強力なマシンが役立ちます。Raspberry Pi でビルドしようとすることはお勧めしません！以下を推奨します。

* 30GB 以上の空きディスクスペース。そうでないと、インクリメンタルキャッシュをクリアし続ける必要があります。より多くのスペースがより良いです。コンパイラはかなり大食いです；これは私たちが認識している問題です。
* 8GB 以上の RAM
* 2 以上のコア。より多くのコアが本当に役立ちます。10 または 20 以上でも多すぎることはありません！

より強力なマシンは、はるかに高速なビルドにつながります。マシンがあまり強力でない場合、一般的な戦略は、ローカルマシンで `./x check` のみを使用し、PR ブランチにプッシュしたときに CI がテストをビルドするようにすることです。

私のやや強力なラップトップでは、コンパイラのビルドには 30 分以上かかります。CI から LLVM をダウンロードすることをお勧めします。そうすれば、ソースからビルドする必要がありません（[こちらを参照][config]）。

[config]: ./how-to-build-and-run.md#create-a-bootstraptoml

`cargo` のように、ビルドシステムはできるだけ多くのコアを使用します。時々、これによってメモリが不足する可能性があります。`-j` を使用して、同時ジョブの数を調整できます。完全なビルドに約 45 分から 1 時間以上かかる場合、おそらくほとんどの時間をメモリをスワップインおよびスワップアウトするのに費やしています；`-j1` を使用してみてください。

空きディスクスペースがあまりない場合は、インクリメンタルコンパイルをオフにすることをお勧めします（[こちらを参照][config]）。これにより、コンパイルに時間がかかります（特にリベース後）が、インクリメンタルキャッシュから大量のスペースを節約できます。
