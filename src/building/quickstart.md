# クイックスタート

これは、コンパイラを実行するためのクイックスタートガイドです。この章の他のページには、個々のステップに関する詳細情報があります。

まず、リポジトリをクローンします：

```sh
git clone https://github.com/rust-lang/rust.git
cd rust
```

コンパイラをビルドする際、`cargo` を直接使用せず、代わりに「x」と呼ばれるラッパーを使用します。これは `./x` で呼び出されます。

ビルド用の設定を作成する必要があります。`./x setup` を使用して適切なデフォルトを作成します。

```sh
./x setup
```

次に、コンパイラをビルドできます。`./x build` を使用して、コンパイラ、標準ライブラリ、およびいくつかのツールをビルドします。チェックだけするために `./x check` を使用することもできます。これらのすべてのコマンドは、特定のコンポーネント/パスを引数として取ることができます。たとえば、`./x check compiler` はコンパイラだけをチェックします。

```sh
./x build
```

> 標準ライブラリのコンパイル方法に影響を与えないコンパイラへの変更を行う場合（たとえば、エラーメッセージへの変更）、再コンパイルを避けるために `--keep-stage-std 1` を使用します。

コンパイラと標準ライブラリをビルドした後、動作するコンパイラツールチェーンができました。rustup を使用してリンクすることができます。

```sh
rustup toolchain link stage1 build/host/stage1
```

これで、ビルドにリンクされた `stage1` という名前のツールチェーンができました。これを使用してコンパイラをテストできます。

```sh
rustc +stage1 testfile.rs
```

変更を行った後、`./x test` を使用してコンパイラテストスイートを実行できます。

`./x test` はフルテストスイートを実行しますが、これは遅く、めったに望むものではありません。通常、コンパイラの変更後は `./x test tests/ui` が望むものです。これは、コンパイラを特定のテストファイルで呼び出し、出力をチェックするすべての [UI tests](../tests/ui.md) をテストします。

```sh
./x test tests/ui
```

変更を行い、新しい出力で `.stderr` ファイルを更新したい場合は、`--bless` を使用します。

おめでとうございます。これでコンパイラに変更を加える準備が整いました！さらに質問がある場合は、[完全な章](./how-to-build-and-run.md) に答えが含まれているかもしれません。含まれていない場合は、お気軽に [Zulip](https://rust-lang.zulipchat.com/#narrow/stream/182449-t-compiler.2Fhelp) で助けを求めてください。

VSCode、Vim、Emacs、または Helix を使用している場合、`./x setup` はエディタ設定をセットアップするかどうかを尋ねます。詳細については、[推奨ワークフロー](./suggested.md) をご覧ください。
